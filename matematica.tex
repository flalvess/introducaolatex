\documentclass{scrartcl}
\usepackage{euler}
\usepackage{fontspec}
\defaultfontfeatures{Ligatures={TeX}}
\setmainfont{Jannon T Moderne Pro}
\setsansfont[BoldFont={Profile-Bold},BoldItalicFont={Profile-BoldItalic}]{Profile}
\setmonofont[Scale=0.8]{Consolas}
\usepackage{polyglossia}
\setmainlanguage{brazil}
\usepackage{mathtools}
\usepackage{hyperref}
\usepackage[dvipsnames]{xcolor}
\usepackage{xspace}
\usepackage{amssymb}
\usepackage{mdframed}
\usepackage{makeidx}
\makeindex
%\usepackage{showidx}
\usepackage{hyperref}



\begin{document}

\title{Matemática em {\fontfamily{lmr}\selectfont\LaTeX}}
\maketitle
\date{}

Um dos motivos que levou D. Knuth a desenvolver o \TeX{} foi poder dar ao usuário, e não somente ao tipógrafo profissional, a capacidade de construir fórmulas e matemáticas com aparência profissional. Enquanto que  o \LaTeX, por si só, dá conta fórmulas matemáticas comuns, par fórmulas mais complicadas e outros recursos podemos utilizar um dos dois pacotes: \textsf{amsmath} ou \textsf{mathtools}. (O pacote \textsf{mathtools} estende as funcionalidades do \textsf{amsmath}.)

Elementos matemáticos podem ser inseridos de duas formas: no texto (\textit{inline}) ou destacado do texto (\textit{display}). Para inserir elementos matemáticos (equações etc.) juntamente com o texto, o modo mais fácil para alterar para o ``modo matemático'' é utilizar cifrões: \verb+$ a^2 - \sqrt{2} $+ = $ a^2 - \sqrt{2} $.\index{\verb+$...$+} Para elementos destacados do texto, pode-se utilizar o ambiente \texttt{displaymath} (\verb+\begin{displaymath}...\end{displaymath}+)\index{\texttt{displaymath}} ou o ``atalho'' -- para \LaTeX{}, \verb+\[...\]+,\index{\verb+\[...\]+} para \TeX{} \verb+$$...$$+.\index{\verb+$$...$$+} Utilizar este último é desencorajado, pois podem resultar problemas, particularmente com as macros do AMS-\LaTeX. Para inserir uma equação numerada, pode-se empregar o ambiente \texttt{equation}:\index{\texttt{equation}}\index{Equações numeradas}

\begin{verbatim}
\begin{equation}
x = \dfrac{-b \pm \sqrt{b^2 - 4ac}}{2a}
\end{equation}
\end{verbatim}


\begin{equation}
x = \dfrac{-b \pm \sqrt{b^2 - 4ac}}{2a}
\end{equation}


Em modo matemático, insere-se sobrescritos \index{Sobrescrito} com o acento circunflexo (\verb+^+) e subscritos \index{Subscrito} com ``underline'' (\verb+_+)

Bons editores fornecem uma enorme quantidade de símbolos, e a maioria dos símbolos mais comuns tem um nome em inglês facilmente memorizável. Para a maior lista possível, vide \textit{The Comprehensive \LaTeX{} symbols list}, de Scott Pakin (\verb+texdoc symbols+ no prompt de comando ou, \textit{inter alia}, \url{http://www.las.ic.unicamp.br/pub/ctan/info/symbols/comprehensive/symbols-a4.pdf}). 

Por exemplo, \verb+\sqrt+\index{\verb+\sqrt+} = \textit{square root}; \verb+\binom+ \index{ \verb+\binom+}= binomial, \verb+\frac{num}{den}+ = \textit{fração, numerador e denominador}; \verb+\dfrac+ = \textit{display fraction}. Os comandos do \textsf{amsmath} \verb+\over+ (``sobre'') e \verb+\choose+ (``escolher'') equivalem, respectivamente, a frações e binômios:



\begin{verbatim}
{n! \over k!(n-k)!} = {n \choose k}
\end{verbatim}

\begin{displaymath}
{n! \over k!(n-k)!} = {n \choose k}
\end{displaymath}

\begin{verbatim}
\sqrt{\frac{a}{b}}
\end{verbatim}

\begin{displaymath}
\sqrt{\frac{a}{b}}
\end{displaymath}

\begin{verbatim}
\sqrt[n]{1+x+x^2+x^3+\ldots}
\end{verbatim}

\[ \sqrt[n]{1+x+x^2+x^3+\ldots} \]

Equações contínuas\index{Equações contínuas} podem ser inseridas com o comando \verb+\cfrac+:\index{\verb+\cfrac+}

\begin{verbatim}

\[ 
  x = a_0 + \cfrac{1}{a_1
          + \cfrac{1}{a_2
          + \cfrac{1}{a_3 + \cfrac{1}{a_4} } } }
 \]

\end{verbatim}

\[ 
  x = a_0 + \cfrac{1}{a_1
          + \cfrac{1}{a_2
          + \cfrac{1}{a_3 + \cfrac{1}{a_4} } } }
 \]

\bigskip


Somas e integrais \index{Somas e integrais} podem ser inseridas com \verb+\sum+ \index{\verb+\sum+} e \verb+\int+:\index{\verb+\int+}

\begin{tabular}{cc}
\begin{minipage}{0.4\textwidth}
\verb+\sum_{i=1}^{10} t_i+
\end{minipage} & \begin{minipage}{0.4\textwidth}\[ \sum_{i=1}^{10} t_i \] \end{minipage}
\end{tabular}

\bigskip

É possível escrever partes que não estejam em itálico com o comando \verb+\mathrm{}+\index{\verb+\mathrm{}+}:


\begin{tabular}{cc}
\begin{minipage}{0.4\textwidth}
\verb+\int_0^\infty \mathrm{e}^{-x}\,\mathrm{d}x+
\end{minipage} & \begin{minipage}{0.4\textwidth}\[ \int_0^\infty \mathrm{e}^{-x}\,\mathrm{d}x \] \end{minipage}
\end{tabular}

\bigskip

Para especificar limites\index{Limites} acima e abaixo de uma integral:


\begin{tabular}{cc}
\begin{minipage}{0.4\textwidth}
\verb+\int\limits_a^b+
\end{minipage} & \begin{minipage}{0.4\textwidth}\[ \int\limits_a^b \] \end{minipage}
\end{tabular}


Delimitadores -- parênteses, colchetes, chaves etc. (pacote \textsf{amssymb}):\index{Delimitadores}

\bigskip

\begin{tabular}{cl}
\begin{minipage}{0.5\textwidth}
\begin{verbatim}
( a ), [ b ], \{ c \}, | d |, \| e \|,
\langle f \rangle, \lfloor g \rfloor,
\lceil h \rceil, \ulcorner i \urcorner
\end{verbatim}
\end{minipage} & 
\begin{minipage}{0.3\textwidth}
\begin{displaymath}
( a ), [ b ], \{ c \}, | d |, \| e \|,
\langle f \rangle, \lfloor g \rfloor,
\lceil h \rceil, \ulcorner i \urcorner 
\end{displaymath}
 \end{minipage}
\end{tabular}

\bigskip


Uma das praticidades do \LaTeX{} é que ele formata automaticamente o tamanho dos elementos e símbolos matemáticos, seja no texto ou destacado, de forma que o usuário não precisa de se preocupar com o tamanho do parêntese, da raiz etc. Para fórmulas com elementos de vários tamanhos, pode ser útil utilizar os comandos \verb+\left+ \index{\verb+\left+}e \verb+\right+\index{\verb+\right+} para formatar o tamanho dos delimitadores (ver acima). 


\begin{center}
\begin{tabular}{cc}
\begin{minipage}{0.3\textwidth}
\begin{verbatim}
\left(\frac{x^2}{y^3}\right)
\end{verbatim}
\end{minipage}
&
\begin{minipage}{0.3\textwidth}
\begin{displaymath}
\left(\frac{x^2}{y^3}\right)
\end{displaymath}
\end{minipage}
\end{tabular}
\end{center}

\medskip

Matrizes \index{Matrizes} podem ser inseridas, à maneira de tabelas (utilizando \& e \verb+\\+), com o ambiente\ldots{} \texttt{matrix}:\index{\texttt{matrix}}

\medskip

\begin{center}
\begin{tabular}{cc}
\begin{minipage}{0.2\textwidth}
\begin{verbatim}
\[ \begin{matrix}
  a & b & c \\
  d & e & f \\
  g & h & i
 \end{matrix} \]
\end{verbatim}
\end{minipage} &%
 \begin{minipage}{0.2\textwidth}
\[  \begin{matrix}
   a & b & c \\
   d & e & f \\
   g & h & i
  \end{matrix} \]
  \end{minipage}
\end{tabular}
\end{center}

\medskip


\begin{center}
\fcolorbox{black}{lightgray}{Não se esqueça que o ambiente \texttt{matrix} deve ser posto em modo matemático.}
\end{center}

\bigskip

Para especificar o alinhamento da matriz, utilize a versão com * (pacote \textsf{mathtools}):

\begin{center}
\begin{tabular}{cc}
\begin{minipage}{0.3\textwidth}
\begin{verbatim}
\[ \begin{matrix}
  -1 & 3 \\
  2 & -4
 \end{matrix}
 =
 \begin{matrix*}[r]
  -1 & 3 \\
  2 & -4
 \end{matrix*} \]
\end{verbatim}
\end{minipage} &
\begin{minipage}{0.4\textwidth}
\[ \begin{matrix}
  -1 & 3 \\
  2 & -4\\
 \end{matrix}
 =
 \begin{matrix*}[r]
  -1 & 3 \\
  2 & -4\\
 \end{matrix*} \]
\end{minipage}
\end{tabular} 
\end{center}

\bigskip

 O ambiente \texttt{cases}\index{\texttt{cases}} (pacote \textsf{amsmath}) permite escrever funções parte a parte:
 
 \begin{tabular}{cc}
\begin{minipage}{0.4\textwidth}
\begin{verbatim}

\[
 u(x) =
  \begin{cases}
   \exp{x} & \text{if } x \geq 0 \\
   1       & \text{if } x < 0
  \end{cases}
\]
\end{verbatim}
\end{minipage}
&
\begin{minipage}{0.4\textwidth}
\[
 u(x) =
  \begin{cases}
   \exp{x} & \text{if } x \geq 0 \\
   1       & \text{if } x < 0
  \end{cases}
\]
\end{minipage}
 \end{tabular}
 
 Ou então listas subdivididas com chaves (notar \verb+\text{}+ para texto dentro do modo matemático):\index{\texttt{dcases}}
 
\begin{center}
  \begin{tabular}{cc}
 \begin{minipage}{0.3\textwidth}
\begin{verbatim}
 $$
 \text{Pai}
 \begin{dcases}
 \text{Filho A}\\
 \text{Filho B}\\
 \text{Filho C}\\
 \text{Filho D}
    \begin{dcases}
    \text{Neto A}\\
    \text{Neto B}\\
    \end{dcases}
 \end{dcases}
 $$
\end{verbatim}
\end{minipage}
&

\begin{minipage}{0.3\textwidth}
 $$
 \text{Pai}
 \begin{dcases}
 \text{Filho A}\\
 \text{Filho B}\\
 \text{Filho C}\\
 \text{Filho D}
    \begin{dcases}
    \text{Neto A}\\
    \text{Neto B}\\
    \end{dcases}
 \end{dcases}
 $$
\end{minipage}
 \end{tabular}
\end{center}
 
% If the purpose is to make comments on particular parts of an equation, the \overbrace and \underbrace commands may be more useful, however they have a different syntax (and can be aligned with the \vphantom command):
% \[
%  z = \overbrace{
%    \underbrace{x}_\text{real} +
%    \underbrace{iy}_\text{imaginary}
%   }^\text{complex number}
% \]
 
% 
% The \xleftarrow and \xrightarrow commands[1] produce arrows which extend to the length of the text. Yet again, the syntax is different: the optional argument (using [ & ]) specifies the subscript, and the mandatory argument (using { & }) specifies the superscript (this can be left empty).
% \[
%  A \xleftarrow{\text{this way}} B
%   \xrightarrow[\text{or that way}]{} C
% \]
% 
% 
% For more extensible arrows, you must use mathtools package:
% \[
%  a \xleftrightarrow[under]{over} b\\
% %
%  A \xLeftarrow[under]{over} B\\
% %
%  B \xRightarrow[under]{over} C\\
% %
%  C \xLeftrightarrow[under]{over} D\\
% %
%  D \xhookleftarrow[under]{over} E\\
% %
%  E \xhookrightarrow[under]{over} F\\
% %
%  F \xmapsto[under]{over} G\\
% \]
% 
% and for harpoons:
% \[
%  H \xrightharpoondown[under]{over} I\\
% %
%  I \xrightharpoonup[under]{over} J\\
% %
%  J \xleftharpoondown[under]{over} K\\
% %
%  K \xleftharpoonup[under]{over} L\\
% %
%  L \xrightleftharpoons[under]{over} M\\
% %
%  M \xleftrightharpoons[under]{over} N
% \]


% fazer align!

Para a elaboração de equações ou fórmulas complexas, sugiro que a melhor forma a fazer é, depois de escrita a equação à mão numa folha, inserir os elementos na seguinte ordem: primeiro as partes maiores, depois os numeradores e depois os denominadores. Essa ordem é a mesma ordem de leitura dos elementos. É aconselhável também separar cada conjunto de elementos por linha de código, facilitando sua visualização. Um exemplo do livro \textit{Math into \LaTeX}, de George Grätzer (p. 22):

\[
\sum_{i = 1}^{ \left[ \frac{n}{2} \right] }
\binom{ x_{i, i + 1}^{i^{2}} }
{ \left[ \frac{i + 3}{3} \right] }
\frac{ \sqrt{ \mu(i)^{ \frac{3}{2}} (i^{2} - 1) } }
{ \sqrt[3]{\rho(i) - 2} + \sqrt[3]{\rho(i) - 1} }
\]


\begin{verbatim}
\[
\sum_{i = 1}^{ \left[ \frac{n}{2} \right] }
\binom{ x_{i, i + 1}^{i^{2}} }
{ \left[ \frac{i + 3}{3} \right] }
\frac{ \sqrt{ \mu(i)^{ \frac{3}{2}} (i^{2} - 1) } }
{ \sqrt[3]{\rho(i) - 2} + \sqrt[3]{\rho(i) - 1} }
\]
\end{verbatim}



\printindex

 \end{document}